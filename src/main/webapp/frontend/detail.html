<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Welcome to Venus</title>
    <link rel="stylesheet" href="static/css/bootstrap.min.css"/>

    <script src="static/script/jquery.min.js"></script>
    <script src="static/script/bootstrap.min.js"></script>

    <link rel="stylesheet" href="static/css/colorjson.css"/>
    <script type="text/javascript" src="static/script/colorjson.js"></script>
    <script type="text/javascript" src="static/script/myAjax.js"></script>
    <script type="text/javascript" src="static/script/sys.js"></script>


    <script>
        var url = window.location.search;
        //url=?userId=10086&id=2&accountName=招商银行
        console.log("url=" + url);

        $(document).ready(function () {

            $.ajax({
                url: "/account/queryAccountDetail" + url, //路径, 比如/user/create
                type: "post",
                data: null,
                success: function (data, status) {
                    //成功
                    console.log("call success:" + JSON.stringify(data));
                    //callback(data, status);
                    document.getElementById("accountName").innerText = data.data.accountName + data.data.remark;
                    document.getElementById("accountId").value = data.data.id;
                    document.getElementById("userId").value = data.data.userId;


                },
                error: function (data, status) {
                    //失败
                    console.error("call fail:" + data);
                    //callback(data, status);
                }
            });

        })

    </script>
</head>
<body>

<!-- ol:organized list
ul:unorganized list
-->
<ol class="breadcrumb">
    <li><a href="/">支付模拟器</a></li>
    <li><a href="/">Home</a></li>
    <li class="active">主页</li>
</ol>


<div class="container">
    <ul id="myTab" class="nav nav-pills nav-justified">
        <li class="active">
            <a href="#liuru" data-toggle="tab" style="font-size: 32px;">流出</a>
        </li>
        <li>
            <a href="#liuchu" data-toggle="tab" style="font-size: 32px;">流入</a>
        </li>
        <li>
            <a href="#zhuanzhang" data-toggle="tab" style="font-size: 32px;">内部转账</a>
        </li>
    </ul>
    <div id="myTabContent" class="tab-content">
        <div class="tab-pane fade in active" id="liuru">

            <div class="container">

                <form id="myForm1" class="form-horizontal" role="form" action="/dailybill/create" method="post">
                    <div class="form-group col-sm-12">
                        <div class="col-sm-6">
                            <br/>
                            <p style="font-size: 32px;" id="accountName" name="accountName"></p>
                        </div>

                        <div class="col-sm-4 text-right">
                            <br/><input type="text" style="font-size: 40px;" name="txAmount" value="0.00">
                        </div>
                    </div>

                    <div>
                        <div class="form-group">
                            <table class="table">
                                <tbody style="font-size: 30px;">
                                <tr>
                                    <td>餐饮</td>
                                    <td>零食</td>
                                    <td>购物</td>
                                    <td>住房</td>
                                    <td>交通</td>
                                </tr>
                                <tr>
                                    <td>娱乐</td>
                                    <td>文教</td>
                                    <td>汽车</td>
                                    <td>通讯</td>
                                    <td>育儿</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-sm-4">
                            选择日期
                            <input type="date" value="2019-02-25" name="txDate"/>
                        </div>

                        <div class="col-sm-6">
                            <input type="text" class="form-control" name="remark" value="备注"/>
                        </div>

                    </div>

                    <input type="hidden" id="accountId" name="accountId">
                    <input type="hidden" id="userId" name="userId">

                    <input type="hidden" name="txType" value="Income">


                    <div class="form-group">
                        <div class="col-sm-6">
                            <button type="submit" class="btn btn-info" onclick="submitByClick('myForm1')">提交
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="tab-pane fade" id="liuchu">
            <p>流出</p>
            <div class="container">

                <form id="myForm2" class="form-horizontal" role="form" action="/dailybill/create2" method="post">
                </form>
            </div>
        </div>
        <div class="tab-pane fade" id="zhuanzhang">
            <p>转账</p>
        </div>
    </div>
</div>


<script type="text/javascript">

    console.log("_______1_______");
    /**
     * 提交form 表单, 由按钮触发
     */
    function submitByClick() {

        $('#myForm1').bind('submit', function () {
            console.log("_______2_______");

            ajaxSubmit(this, function (data, status) {
                //callback 函数
                console.log("return status:" + status + ", data:" + JSON.stringify(data));

                $('#message').html(syntaxHighlight(JSON.parse(JSON.stringify(data))));

            });

            return false;
        });

    }

</script>

</body>
</html>